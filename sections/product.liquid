{% comment %}
  Product page section
  See https://shopify.dev/docs/themes/architecture/templates/product
{% endcomment %}

<div class="desktop-flex-container">
  <div class="product-flex-container">
    <div class="product-window-box">
      <div class="window-box-header">
        <div class="window-box-title">
          <h2>C:/etch/all-collections/tees/{{ product.title }}</h2>
        </div>
        <div class="window-box-icons">
          <img src="{{ 'window-minimise.png' | asset_url }}" alt="Minimize">
          <img src="{{ 'window-maximise.png' | asset_url }}" alt="Maximize">
          <img src="{{ 'window-close.png' | asset_url }}" alt="Close">
        </div>
      </div>

      <div class="window-box-content">
        {% form 'product', product %}
          <div class="product-flex-container">
            <!-- Product image slideshow -->
            <div class="product-images">
              {% if product.images != empty %}
                <div class="product-images-slideshow">
                  {% for image in product.images limit: 5 %}
                    <div class="product-image">
                      <img src="{{ image | img_url: '500x' }}" style="width:100%" alt="{{ product.title }}">
                    </div>
                  {% endfor %}
                  <a class="prev"> &lt; </a>
                  <a class="next"> &gt; </a>
                </div>
                <br>
                <div style="text-align:center" class="slideshow-dots">
                  {% for image in product.images %}
                    <span class="dot" data-slide="{{ forloop.counter }}"></span>
                  {% endfor %}
                </div>
              {% else %}
                <img alt="No image" width="600" height="600" loading="lazy">
              {% endif %}
            </div>

            <!-- Popup buttons -->
            <div class="product-pop-up">
              <button id="popup-info-trigger" class="trigger-btn" data-popup-trigger="popup-info-box">Info</button>
              <button id="popup-size-trigger" class="trigger-btn" data-popup-trigger="popup-size-box">Sizing</button>
              <button id="popup-ship-trigger" class="trigger-btn" data-popup-trigger="popup-ship-box">Shipping</button>
            </div>

            <!-- Popup modals -->
            <div id="popup-info-box" class="popup">
              <div class="popup-content">
                <h2>CLOTHING INFO</h2>
                <div>{{ product.description }}</div>
                <span class="close-info-btn" data-popup-close="popup-info-box">&times;</span>
              </div>
            </div>

            <div id="popup-size-box" class="popup">
              <div class="popup-content">
                <h2>SIZING GUIDE</h2>
                <div>{{ product.description }}</div>
                <span class="close-size-btn" data-popup-close="popup-size-box">&times;</span>
              </div>
            </div>

            <div id="popup-ship-box" class="popup">
              <div class="popup-content">
                <h2>SHIPPING INFO</h2>
                <div>{{ product.description }}</div>
                <span class="close-ship-btn" data-popup-close="popup-ship-box">&times;</span>
              </div>
            </div>

            <!-- Product options -->
            <div class="product-options">
              <select name="id" class="my_top_space my_bottom_space product-variant-select" id="my_id">
                {% for variant in product.variants %}
                  <option
                    value="{{ variant.id }}"
                    {% if variant == product.selected_or_first_available_variant %}selected="selected"{% endif %}
                    data-img="{% if variant.image %}{{ variant | image_url: width: 600 }}{% elsif product.images != empty %}{{ product | image_url: width: 600 }}{% endif %}"
                    data-price="{{ variant.price | money_with_currency }}"
                  >
                    {{ variant.title }} - {{ variant.price | money }}
                  </option>
                {% endfor %}
              </select>

              <div class="my_top_space my_bottom_space">
                <label for="my_quantity">Quantity:</label>
                <input type="text" name="quantity" id="my_quantity" min="1" value="1" size="10">
              </div>

              <div class="my_bottom_space my_font_large" id="my_price">{{ product.price | money_with_currency }}</div>
            </div>

            <!-- Buy buttons -->
            <div style="margin: 0 auto; width: 80%;">
              <input
                type="submit"
                value="Add to my cart"
                style="width: 100%;"
                class="my_top_space my_bottom_space my_font_large"
              >
            </div>

            {{ form | payment_button }}
            <p>&nbsp;</p>
          </div>
        {% endform %}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "t:sections.product.name",
  "limit": 1,
  "enabled_on": {
    "templates": ["product"]
  }
}
{% endschema %}